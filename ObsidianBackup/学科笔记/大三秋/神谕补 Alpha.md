>按章节和知识点分类，梳理下神提到的明确的、有书上页码的部分
>2014版请将每个页数-4或-5

## 第一章

**1.4 操作系统的主要功能（17）**：
- 操作系统最基本的功能就是：
	1. **处理机管理功能（18）：包括进程控制、进程同步、进程通信和调度** 
	2. **储存器管理功能（19）：包括内存分配、内存保护、地址映射和内存扩充**
	3. **设备管理功能（20）：包括缓冲管理，设备分配和程序处理**、
	4. **文件管理功能（21）：包括文件储存空间的管理、目录管理和文件的读/写管理和保护**
**1.5 操作系统的结构设计（24）**：
- **1.5.4 微内核OS结构（30）**：
	- **1.微内核OS的基本概念（30上）**：什么是微内核OS：
		1. 足够小的内核；（微内核会足够小，是指把操作系统中最基本的部分放入内核，即下面的**2.微内核的基本功能（31上）**）
		2. 基于用户/服务器模式；
		3. 应用“机制和策略分离”原理；
		4. 采用面向对象技术
	- **2.微内核的基本功能（31上）：进程（线程）管理、低级储存器管理、中断和陷入处理**，通常会把这些放入操作系统内核
	- **3.微内核OS的优点（32上）：提高了系统的可拓展性、增强了系统的可靠性、可移植性强、提供了对分布式系统的支持和融入了面向对象技术**
	- **4.微内核OS的问题（32下）**：微内核OS运行效率是比较低的，因为它的采用了类似客户-服务器的模式，很多应用放在内核之外，导致了很多的上下文切换 
	- ***疑似大题：*** 微内核操作系统结构，包括它的基本概念【】，基本功能【】，基于这样的结构，它的特点是什么【】，但同时它也存在问题【】，是运行效率比较低，原因是要运行多次交互和上下文切换
	- **微内核操作系统的代表（30上）：Window2000/XP系统，UNIX不是！**（不知为何神说了起码三次）
**1.2.4 分时系统（9）**：
- **分时系统的目的**：及时接收、及时处理（TODO）
- **了解分时系统是一种什么样的操作系统**：是每隔一段时间去扫描一次需求（TODO）
**1.2.5 实时系统（11）**：
- **实时系统的目的**：及时响应外部事件的请求，在规定的时间内完成该事件的处理（TODO）
**1.1.1 操作系统的目的（1）**：
- **管理资源（3）**，如果资源管理不好，系统效率会降低（TODO）；可以看成是虚拟机，linux就是把东西都抽象成文件【15：50】判断
【待完善】
- 特权指令【在第九章是什么，只有在用户态下才能执行的；【30~33左右32下上下文切换
- 这一章也提到了系统调用，注意和一般的过程调用和函数调用是不一样的

## 第二章

**2.2.1 进程的定义和特征（39）**：
- **1.进程的定义：进程是程序的一次执行；进程是一个程序及数据在处理机上顺序执行时所发生的活动；进程是具有独立功能的程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位**
程序的定义：
- 程序就是可执行文件
**2.7 线程的基本概念（81）**：
- **线程的定义**：线程就是调度和分派的基本单位
**2.8.1 线程实现的方式（85）**：
- 1.内核支持线程KST：
- 2.用户级线程ULT：
- 3.组合方式：
**程序、进程、线程三者之间的关系**：
- 进程和程序的区别：见下一点
- **2.7.2 进程与线程的比较（82）**：***可能简答***
	- 调度的基本单位：与传统不同，引入线程的OS中线程是能独立运行的基本单位；同一进程下，线程的切换不会引发进程的切换，然而垮进程切换会导致进程切换
	- 并发性：进程可以并发，同一进程下的所有线程也可以并发
	- 拥有资源：进程可以拥有资源，并作为系统中拥有资源的一个基本单位，但线程没有系统资源，仅有保证独立运行的必要资源；同一进程下的线程可以共享资源和访问进程的资源；
	- 系统开销：进程创建和撤销时的开销远远大于线程创建和撤销时的开销；
	- 支持多处理机系统：单线程进程只能运行在一个处理机上，多线程进程可以运行在多个处理机上，加速进程
**进程和程序的区别（39下）**：
- 动态性：进程有生命期，程序知识一组有序指令的集合，是静态的；
- 并发性：可以有多个进程同存于内存中，并在一段时间内同时运行，而程序是不能参与并发执行的
-  独立性：进程实体是一个能独立运行、独立获得资源和独立接受调度的基本单位，而程序不能作为一个独立的单位参与运行
- 异步性：进程是按各自独立、不可预知的速度推进，导致程序如并发执行，会产生结果的不可再现
**2.2.2 进程的三个基本状态和转换（40上）**：
- **三种基本状态（40上）**：**了解三种基本状态的具体状态**
	1. 就绪状态：**进程已经处于准备好运行的状态，即分配到除CPU以外所有需要的资源**
	2. 执行状态：**进程已经获得CPU，其程序正在运行**
	3. 阻塞状态：**因为发生I/O请求等事件暂时无法继续执行，即进程的执行收到阻塞；此时会引起进程调度，将处理机分配给另一个就绪的进程**
- **三种基本状态的转换（40下）**：![[神谕补-20241030161259052.heic|400]]
	1. 进程调度：处于就绪状态的进程，在调度程序为之分配了处理机之后便可执行；
	2. 时间片完：正在执行的进程（当前进程）如果因分配给他的时间片已完而被剥夺处理机暂停执行时，由执行->就绪；
	3. I/O请求：如果因发生某事件，致使当前进程的执行受阻，使之无法继续执行
	4. I/O完成：（TODO）
**2.2.4 进程管理中的数据结构（43）**：
- **3.进程控制块中的信息（44下）**：
	- 进程标识符
	- **处理机的状态信息（45）**：是最重要的信息，包括各种寄存器，这些一起构成了整个**处理机的上下文信息**
	- 进程调度信息
	- 进程控制信息
**2.3.2 进程创建（48）** ：
- 创建后，子进程继承了父进程的大部分资源，在这里可以理解为继承了所有资源
- 进程的创建和fork调用以及其他一系列系统调用相关（和实验课相关）
- **引起进程创建的事件（49）**：
	- 用户登入
	- 作业调度
	- 提供服务
	- 应用请求
- **继承后进程的执行过程是怎么样的（49下）**：
	1. 申请空白PCB，为新进程申请获得唯一的数字标识符，并从PCB集合中索取一篇空白PCB；
	2. 新进程的资源仅从其父进程获得，在该进程（父进程）提出创建进程的请求中给出所需内存的大小；
	3. 初始化进程控制块：（TODO）；
	4. 如果进程就绪队列能够接纳新进程，将新进程插入就绪队列
- 实验课有涉及，会有程序让你分析它（子进程？）的执行效率
**2.3.3 进程的终止（50）**：
- **1.引起进程终止的事件（50？）** ：
	- 正常结束：进程的任务完成了，会安排一条指令
	- 异常结束：越界错、保护错、非法滞留、运行超时、等待超时
	- 外界干预
2.4.1 进程同步的基本概念：
- **进程同步的四大基本规则（55）**：
	- 空闲让进
	- 忙则等待
	- 有限等待
	- 让权等待
**2.4.2 硬件同步机制**
- **1.关中断（56）**
- **2.T&S指令（56中）**：也叫测试并建立/设置指令
- 3.swap指令：第二种的特定类型，两者都是用指令来实现互斥的
- 关中断和T&S都是用于进程同步
- T&S是利用一种特殊的指令来进行进程同步
**2.4.3 信号量机制（57）**：
- 软件和硬件一起使用的信号量机制，前面T&S必须要硬件支持，而信号量不需要
- 信号量上的操作是T操作和V操作
- 书上将信号量分为了整型（58上）和互斥（记录）（58中）型
	- 整型：（TODO）
	- 互斥型：如果信号量实现临界间互斥的话，信号量的初始值要为1 **（61）**
	- 信号量是在硬件的基础之上使用软件来进行同步，所以信号量是一种（硬同步？）
**2.4.5 管程机制（62）** ：
- **1.管程的定义（63）**：管程是一种**数据类型/结构**，用来定义一组过程和变量，也是用来进行进程同步的，把对信号量的操作和管理封装起来；它不是指令，也不是原语（对信号量进行操作i，T操作和V操作）
- 管程依赖于编译器，并不是所有的操作系统都支持
**2.5 经典进程的同步问题（65）**：
- ***就是大题：使用信号量机制来解决一个问题***
	- 生产者-消费者问题：
	- 哲学家进餐问题：
	- 读者-写者问题：

## 第三章

**3.5.3 死锁的定义、必要条件和处理方法（115）**：
- 死锁的定义（115）：有一种进程集合，这组进程当中，每个进程都在等待其他进程所占用的资源（只有其他进程才能引发的事件），都在等待无法推进，所以称为死锁
- **死锁产生的四个必要条件（116）**：
	- 互斥条件：
	- 请求和保持条件：
	- 不可抢占条件：
	- 循环等待条件：
- ***肯定大题：为了避免死锁的银行家算法（120~123）***：
	- 书上的例题是因为在P1调度的基础之上，产生了P4和P0调度，才卡死的：
		- 书上是在一个请求的基础之上解决另一个请求，T0时刻的安全序列是因为假定了所有需求都从它的最大请求开始，但P1后的进程并不是最大资源请求的向量；P0试图分配却找不到可行序列是因为P1没有释放它所占用的资源，这是和3-16不同的地方

## 第九章

**9.2.2常见命令（304）**：

| 命令  | 含义               |
| :---: | :----------------: |
| cat   | 显示文件内容       |
| cp    | 复制文件副本       |
| mv    | 对已有文件改名     |
| rm    | 撤销文件           |
| file  | 确定文件类型       |
| mkdir | 建立目录           |
| rmdir | 撤销目录           |
| cd    | 改变工作目录       |
| date  | 访问当前日期和时间 |
| who   | 询问当前用户名     |
| pwd   | 显示当前路径名     |
| \|    | 管道命令           |

**9.4系统调用的概念和类型（315）**：
- 9.4.1 系统调用的基本概念（315）：系统调用是什么（316）：应用程序请求OS内核完成某功能时的一种过程调用（？）
- 系统运行的状态：在处理机的运行过程分成**系统态和用户态（316）**：
	- 系统态也称为核心态
	- 处理机会在两种状态中切换，两种状态下执行的指令集不同，因此把*指令集*分为：特权指令（316）和非特权指令（*是在用户态执行*）
	- 特权指令*是在系统态执行*的指令，包括：启动外部设备、设置系统时钟时间等，只允许操作系统，不允许应用程序使用，这样使系统安全；
	- 为什么要分成特权和非特权指令两种状态：（看出来？）